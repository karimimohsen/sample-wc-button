<html>
<script>
    customElements.define('my-button', class extends HTMLElement {
        constructor() {
            super();
            const shadowRoot = this.attachShadow({ mode: 'open' });

            const textNode = document.createTextNode("Button");
            const divEl = document.createElement("div");
            divEl.appendChild(textNode);
            shadowRoot.appendChild(divEl);

            const styleEl = document.createElement("style");
            styleEl.innerHTML = `
                :host {
                    display: block;
                }
                div {
                    background-color: var(--button-color);
                }
                `;
            shadowRoot.appendChild(styleEl);
        }
    });

</script>
<style>
    my-button {
        width: 50px;
    }
    
    #blue {
        --button-color: lightblue;
    }
    
    #green {
        --button-color: green;
    }
</style>

<body>
    <my-button id="blue"></my-button>
    <my-button id="green"></my-button>
</body>

</html>